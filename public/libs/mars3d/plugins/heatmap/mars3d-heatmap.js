/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.4.9
 * 编译日期：2022-10-05 20:34:58
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-06-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x6e3c81=_0x3ac7;(function(_0x486009,_0x154327){var _0x293b1d=_0x3ac7,_0x3bc442=_0x486009();while(!![]){try{var _0x57ab4b=parseInt(_0x293b1d(0x223))/0x1*(-parseInt(_0x293b1d(0x1e8))/0x2)+-parseInt(_0x293b1d(0x256))/0x3*(-parseInt(_0x293b1d(0x1ea))/0x4)+-parseInt(_0x293b1d(0x212))/0x5*(-parseInt(_0x293b1d(0x1f5))/0x6)+-parseInt(_0x293b1d(0x229))/0x7+-parseInt(_0x293b1d(0x249))/0x8*(-parseInt(_0x293b1d(0x24d))/0x9)+-parseInt(_0x293b1d(0x23f))/0xa+-parseInt(_0x293b1d(0x263))/0xb*(-parseInt(_0x293b1d(0x253))/0xc);if(_0x57ab4b===_0x154327)break;else _0x3bc442['push'](_0x3bc442['shift']());}catch(_0x7fdecf){_0x3bc442['push'](_0x3bc442['shift']());}}}(_0x5e6d,0x6d51b));function _interopNamespace(_0x498d39){var _0x32815a=_0x3ac7;if(_0x498d39&&_0x498d39['__esModule'])return _0x498d39;var _0x472aef=Object[_0x32815a(0x20f)](null);return _0x498d39&&Object[_0x32815a(0x258)](_0x498d39)['forEach'](function(_0x47d065){var _0x4e62d7=_0x32815a;if(_0x47d065!==_0x4e62d7(0x1f0)){var _0x3554bd=Object['getOwnPropertyDescriptor'](_0x498d39,_0x47d065);Object[_0x4e62d7(0x264)](_0x472aef,_0x47d065,_0x3554bd[_0x4e62d7(0x1e5)]?_0x3554bd:{'enumerable':!![],'get':function(){return _0x498d39[_0x47d065];}});}}),_0x472aef[_0x32815a(0x1f0)]=_0x498d39,_0x472aef;}function _0x3ac7(_0xf9ef02,_0x46901b){var _0x5e6dcb=_0x5e6d();return _0x3ac7=function(_0x3ac796,_0x42c08e){_0x3ac796=_0x3ac796-0x1d5;var _0x2f5d6e=_0x5e6dcb[_0x3ac796];if(_0x3ac7['JLPsEI']===undefined){var _0x50ba7c=function(_0x498d39){var _0x472aef='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x47d065='',_0x3554bd='';for(var _0x61e778=0x0,_0x190ed7,_0x234cea,_0x222156=0x0;_0x234cea=_0x498d39['charAt'](_0x222156++);~_0x234cea&&(_0x190ed7=_0x61e778%0x4?_0x190ed7*0x40+_0x234cea:_0x234cea,_0x61e778++%0x4)?_0x47d065+=String['fromCharCode'](0xff&_0x190ed7>>(-0x2*_0x61e778&0x6)):0x0){_0x234cea=_0x472aef['indexOf'](_0x234cea);}for(var _0x2a9deb=0x0,_0x490c2a=_0x47d065['length'];_0x2a9deb<_0x490c2a;_0x2a9deb++){_0x3554bd+='%'+('00'+_0x47d065['charCodeAt'](_0x2a9deb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3554bd);};_0x3ac7['nbVWVU']=_0x50ba7c,_0xf9ef02=arguments,_0x3ac7['JLPsEI']=!![];}var _0x11a2d1=_0x5e6dcb[0x0],_0x3d07c0=_0x3ac796+_0x11a2d1,_0x244329=_0xf9ef02[_0x3d07c0];return!_0x244329?(_0x2f5d6e=_0x3ac7['nbVWVU'](_0x2f5d6e),_0xf9ef02[_0x3d07c0]=_0x2f5d6e):_0x2f5d6e=_0x244329,_0x2f5d6e;},_0x3ac7(_0xf9ef02,_0x46901b);}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x61e778,_0x190ed7){var _0x2cf374=_0x3ac7,_0x234cea=Object['keys'](_0x61e778);if(Object[_0x2cf374(0x1fb)]){var _0x222156=Object[_0x2cf374(0x1fb)](_0x61e778);_0x190ed7&&(_0x222156=_0x222156[_0x2cf374(0x247)](function(_0x2a9deb){var _0x500943=_0x2cf374;return Object[_0x500943(0x24b)](_0x61e778,_0x2a9deb)[_0x500943(0x1f3)];})),_0x234cea['push'][_0x2cf374(0x1f1)](_0x234cea,_0x222156);}return _0x234cea;}function _objectSpread2(_0x490c2a){var _0x251c15=_0x3ac7;for(var _0x4e5ee1=0x1;_0x4e5ee1<arguments[_0x251c15(0x1e9)];_0x4e5ee1++){var _0x3280cc=null!=arguments[_0x4e5ee1]?arguments[_0x4e5ee1]:{};_0x4e5ee1%0x2?ownKeys(Object(_0x3280cc),!0x0)[_0x251c15(0x26c)](function(_0x3a90de){_defineProperty(_0x490c2a,_0x3a90de,_0x3280cc[_0x3a90de]);}):Object[_0x251c15(0x21a)]?Object[_0x251c15(0x242)](_0x490c2a,Object['getOwnPropertyDescriptors'](_0x3280cc)):ownKeys(Object(_0x3280cc))[_0x251c15(0x26c)](function(_0x44a9b7){var _0x8c070c=_0x251c15;Object[_0x8c070c(0x264)](_0x490c2a,_0x44a9b7,Object[_0x8c070c(0x24b)](_0x3280cc,_0x44a9b7));});}return _0x490c2a;}function _classCallCheck(_0x562304,_0x3b87f7){var _0x72e4a9=_0x3ac7;if(!(_0x562304 instanceof _0x3b87f7))throw new TypeError(_0x72e4a9(0x1ee));}function _defineProperties(_0x5df1a5,_0x192775){var _0x20e720=_0x3ac7;for(var _0x1ee127=0x0;_0x1ee127<_0x192775[_0x20e720(0x1e9)];_0x1ee127++){var _0x137321=_0x192775[_0x1ee127];_0x137321[_0x20e720(0x1f3)]=_0x137321[_0x20e720(0x1f3)]||![],_0x137321[_0x20e720(0x205)]=!![];if(_0x20e720(0x23d)in _0x137321)_0x137321[_0x20e720(0x222)]=!![];Object[_0x20e720(0x264)](_0x5df1a5,_0x137321[_0x20e720(0x221)],_0x137321);}}function _createClass(_0x536608,_0x3109b1,_0x40f4ba){var _0x101dc2=_0x3ac7;if(_0x3109b1)_defineProperties(_0x536608[_0x101dc2(0x250)],_0x3109b1);if(_0x40f4ba)_defineProperties(_0x536608,_0x40f4ba);return Object['defineProperty'](_0x536608,_0x101dc2(0x250),{'writable':![]}),_0x536608;}function _defineProperty(_0x5cd8b6,_0x5538a1,_0x5025b6){return _0x5538a1 in _0x5cd8b6?Object['defineProperty'](_0x5cd8b6,_0x5538a1,{'value':_0x5025b6,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x5cd8b6[_0x5538a1]=_0x5025b6,_0x5cd8b6;}function _0x5e6d(){var _0x1c9a88=['yNvTCe1HCa','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','CMvTB3zL','q29SB3i','y29VCMrPBMf0zxm','6k+35BYv5ywLigHLyxrTyxaUANmG5BQtia','Dw5PzM9YBxm','C2v0uhjVDg90ExbLt2y','y29UzMLNDxjHyMXL','Eg1HEa','r3jHCgHPy0XHEwvY','x21VDw50zwriB29R','x19LC01VzhvSzq','yMX1zq','BwvYy2f0B3iYBg9UBgf0','Dw5KzwzPBMvK','yxjJqMX1CLnJywXL','Eg1PBG','y3jLyxrL','uMvJDgfUz2XLuhjPBwL0AxzL','C2v0ug9ZAxrPB25Z','mteWmJboCLLiqui','x3bVC2L0Aw9UCW','x2DLDefYy0HLyxrdyw52yxm','B3b0Aw9UCW','AgvHDfn0EwXL','tgf5zxjvDgLS','quXxqvLt','x2nYzwf0zufYy0DYyxbOAwm','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','q2vZAxvT','CMDIkdaSmcWWkq','C3r5Bgu','CMvNAxn0zxi','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','Ew1PBG','A2v5','D3jPDgfIBgu','mwrjAgD1uq','AgvHDa','uMvJDgfUz2XL','CMDIysG','AxngB3jTyxq','CM91BMq','ntuWmtu1ow1vqw5Uua','x2DYyxbOAwm','y2XPzw50v2LKDgG','CMvJDgfUz2XL','zNjVBurLz3jLzxm','zNvUy3rPB24','quXqsefFqKXftKq','ChG7AgvPz2H0oG','x3jLBw92zwriB29R','zMXVB3i','y29UDgfPBMvY','Bgf0','EwvSBg93','CMvK','y29UC3rYDwn0','z2v0sw1Hz2veyxrH','x19WCM90B19F','z3jHCgHPyW','BwfYCZnKlwHLyxrTyxaGBwfYCZnKlwHPzgveAxy','z3jLzw4','DMfSDwu','ywrKr3jHCgHPyW','nZi2nZmWmgD4txrRvq','yMX1CG','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cGPJEM1FBwf0zxjPywWGy3PTx2DLDe1HDgvYAwfSkgn6Bv9TyxrLCMLHBeLUChv0ig1HDgvYAwfSsw5WDxqPihSkicbJEM1FBwf0zxjPywWGBwf0zxjPywWGpsbJEM1Fz2v0rgvMyxvSDe1HDgvYAwfSkg1HDgvYAwfSsw5WDxqPoWOGihzLyZiGC3qGpsbTyxrLCMLHBeLUChv0lNn0oWOGihzLyZqGy29SB3jjBwfNzsa9ihrLEhr1CMuYrcHPBwfNzsWGC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPihSkicaGigrPC2nHCMq7cIaGFqOGig1HDgvYAwfSlMrPzMz1C2uGpsbJB2XVCKLTywDLlNjNyJSkicbTyxrLCMLHBc5HBhbOysa9ignVBg9Ysw1Hz2uUytSkicbYzxr1CM4GBwf0zxjPywW7cN0k','zgvMAw5LuhjVCgvYDgLLCW','x2DLDeHLyxrdyw52yxm','y2XLyxi','x3nLDe9WDgLVBNniB29R','CgfYC2u','zMLSDgvY','ug9PBNruCMfUCW','nda4zKrSD1Dh','qMXLBMrPBMDtDgf0zq','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','x21HCa','mZm4ndL1A0LszuO','Bwf4','vxrPBa','ChjVDg90ExbL','z2v0uhjVDg90ExbLt2y','u3rLBMnPBez1BMn0Aw9U','mJe4mZmWmdr4sw5jA0C','BwLUq2fUDMfZu2L6zq','u3rLBMnPBe9WzxjHDgLVBG','m3b3rxvcCa','DMfSDwvpzG','A2v5CW','ChvZAa','Aw1Hz2u','Bg9UBgf0mM1LCMnHDg9Y','C2HVDW','ywrKug9ZAxrPB24','Cg9ZAxrPB25Z','zgL2','x3jLy3rHBMDSzq','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','z2v0uMvJDgfUz2XL','mtfzq21ZvKG','zgvMAw5LuhjVCgvYDhK','Bgf5zxi','Ew1HEa','CMvTB3zLr3jHCgHPyW','q2fYDgvZAwfUmG','y3nZvgv4Da','y29Uy2f0','zM9YBwf0uMvJDgfUz2XL','zM9YrwfJAa','x2XHEwvY','x2HLyxq','x3nJywXL','Bwf4q2fUDMfZu2L6zq','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','x3jLBMrLCMvY','CMfKAxvZ','ywjZ','D2LKDgG','BwvYz2u','yM9KEq','BwLU','Cg9PBNrZ','y29UzMLNDxjL','y2fSBa','s0vfua','CMDIkdiXnIWYmtySmJe2kq','zMX5vg8','rg9TvxrPBa','z2v0ug9PBNreyxrH','Dg9bCNjHEq','z3jHzgLLBNrbCMm','sgvHDeXHEwvY','z2v0','x2nYzwf0zuDYyxbOAwm','x2XHC3rFBujVDw5KCW','mtyZnZm0ohrlrwr1rq','BgvUz3rO','mti1ntq0mfzMzePPCW','z3jHBNvSyxjPDhK','zgLMzKHLAwDODa','y29WEunHBNzHCW','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','ChG7','zgvMyxvSDa','yxbWBhK','C2v0rgf0yq','zw51BwvYywjSzq','y2fUDMfZ','mtiZnLjQsu92wq','Bg5N','ug9SEvv0AwW','C3bSAxroDw0','CMDIkde0mcWXndaSmtqWkq','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','uKvqtefdrq'];_0x5e6d=function(){return _0x1c9a88;};return _0x5e6d();}function _inherits(_0x435e2c,_0x1544c7){var _0x31f7f6=_0x3ac7;if(typeof _0x1544c7!==_0x31f7f6(0x22e)&&_0x1544c7!==null)throw new TypeError(_0x31f7f6(0x1fa));_0x435e2c[_0x31f7f6(0x250)]=Object['create'](_0x1544c7&&_0x1544c7[_0x31f7f6(0x250)],{'constructor':{'value':_0x435e2c,'writable':!![],'configurable':!![]}}),Object[_0x31f7f6(0x264)](_0x435e2c,_0x31f7f6(0x250),{'writable':![]});if(_0x1544c7)_setPrototypeOf(_0x435e2c,_0x1544c7);}function _getPrototypeOf(_0x4b9d32){var _0x1537d5=_0x3ac7;return _getPrototypeOf=Object[_0x1537d5(0x204)]?Object[_0x1537d5(0x251)]:function _0x46fef5(_0x12504c){var _0x4ea445=_0x1537d5;return _0x12504c[_0x4ea445(0x239)]||Object[_0x4ea445(0x251)](_0x12504c);},_getPrototypeOf(_0x4b9d32);}function _setPrototypeOf(_0x25363c,_0x10f936){return _setPrototypeOf=Object['setPrototypeOf']||function _0x127720(_0x5f02fc,_0x598f1d){var _0x4f3bd8=_0x3ac7;return _0x5f02fc[_0x4f3bd8(0x239)]=_0x598f1d,_0x5f02fc;},_setPrototypeOf(_0x25363c,_0x10f936);}function _isNativeReflectConstruct(){var _0x2ce432=_0x3ac7;if(typeof Reflect===_0x2ce432(0x20c)||!Reflect['construct'])return![];if(Reflect[_0x2ce432(0x237)]['sham'])return![];if(typeof Proxy===_0x2ce432(0x22e))return!![];try{return Boolean[_0x2ce432(0x250)][_0x2ce432(0x257)][_0x2ce432(0x1dc)](Reflect[_0x2ce432(0x237)](Boolean,[],function(){})),!![];}catch(_0x6c3342){return![];}}function _assertThisInitialized(_0x35a803){var _0x4ea6a6=_0x3ac7;if(_0x35a803===void 0x0)throw new ReferenceError(_0x4ea6a6(0x21f));return _0x35a803;}function _possibleConstructorReturn(_0x596c4f,_0x10d407){if(_0x10d407&&(typeof _0x10d407==='object'||typeof _0x10d407==='function'))return _0x10d407;else{if(_0x10d407!==void 0x0)throw new TypeError('Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined');}return _assertThisInitialized(_0x596c4f);}function _createSuper(_0x27e1f0){var _0x3d33ed=_isNativeReflectConstruct();return function _0x298888(){var _0x3466df=_0x3ac7,_0x5780b7=_getPrototypeOf(_0x27e1f0),_0x310c47;if(_0x3d33ed){var _0x441c19=_getPrototypeOf(this)['constructor'];_0x310c47=Reflect[_0x3466df(0x237)](_0x5780b7,arguments,_0x441c19);}else _0x310c47=_0x5780b7['apply'](this,arguments);return _possibleConstructorReturn(this,_0x310c47);};}var HeatMaterial=_0x6e3c81(0x241);if(!h337__namespace[_0x6e3c81(0x20f)])throw new Error(_0x6e3c81(0x202));var Cesium=mars3d__namespace[_0x6e3c81(0x21b)],BaseLayer=mars3d__namespace[_0x6e3c81(0x265)]['BaseLayer'],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x6e3c81(0x20a),0.6:_0x6e3c81(0x23c),0.8:_0x6e3c81(0x235),0.9:_0x6e3c81(0x236)}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium[_0x6e3c81(0x1fe)]['VERTEX_FORMAT']},HeatLayer=function(_0x2d78fc){var _0x16cbdf=_0x6e3c81;_inherits(_0x2bf592,_0x2d78fc);var _0x4d56bc=_createSuper(_0x2bf592);function _0x2bf592(){var _0x554342=_0x3ac7,_0x33357e,_0x78081d,_0x1172bd,_0x520ba9=arguments[_0x554342(0x1e9)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x2bf592),_0x1172bd=_0x4d56bc[_0x554342(0x1dc)](this,_0x520ba9),_0x1172bd[_0x554342(0x215)][_0x554342(0x270)]=(_0x33357e=_0x1172bd['options'][_0x554342(0x270)])!==null&&_0x33357e!==void 0x0?_0x33357e:document['body'][_0x554342(0x22b)],_0x1172bd[_0x554342(0x215)]['maxCanvasSize']=Math[_0x554342(0x1d9)](_0x1172bd[_0x554342(0x215)][_0x554342(0x270)],0x1388),_0x1172bd[_0x554342(0x215)]['minCanvasSize']=(_0x78081d=_0x1172bd[_0x554342(0x215)][_0x554342(0x254)])!==null&&_0x78081d!==void 0x0?_0x78081d:document[_0x554342(0x1d8)]['clientHeight'],_0x1172bd['options'][_0x554342(0x254)]=Math[_0x554342(0x24e)](_0x1172bd[_0x554342(0x215)][_0x554342(0x254)],0x2bc),_0x1172bd['options'][_0x554342(0x216)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x1172bd[_0x554342(0x215)][_0x554342(0x216)]||{}),_0x1172bd[_0x554342(0x215)][_0x554342(0x21d)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x1172bd[_0x554342(0x215)]['style']||{}),_0x1172bd;}return _createClass(_0x2bf592,[{'key':_0x16cbdf(0x265),'get':function _0x505d1a(){var _0x20135c=_0x16cbdf;return this[_0x20135c(0x26d)];}},{'key':_0x16cbdf(0x216),'get':function _0xf9f17b(){var _0x218577=_0x16cbdf;return this[_0x218577(0x215)]['heatStyle'];},'set':function _0x242665(_0x1ca64e){var _0x2be57d=_0x16cbdf;this[_0x2be57d(0x215)][_0x2be57d(0x216)]=mars3d__namespace[_0x2be57d(0x24f)]['merge'](this['options']['heatStyle'],_0x1ca64e),this[_0x2be57d(0x26e)]&&(this[_0x2be57d(0x26e)]['configure'](this[_0x2be57d(0x215)]['heatStyle']),this[_0x2be57d(0x271)](!![]));}},{'key':_0x16cbdf(0x21d),'get':function _0xc3c81(){var _0x5938d5=_0x16cbdf;return this[_0x5938d5(0x215)][_0x5938d5(0x21d)];},'set':function _0xfef5c2(_0x1f44d9){var _0x4c6631=_0x16cbdf;this[_0x4c6631(0x215)][_0x4c6631(0x21d)]=mars3d__namespace[_0x4c6631(0x24f)][_0x4c6631(0x1d7)](this['options'][_0x4c6631(0x21d)],_0x1f44d9);}},{'key':'positions','get':function _0xe47839(){var _0x4c8ee3=_0x16cbdf;return this[_0x4c8ee3(0x213)];},'set':function _0x37deb0(_0x196830){var _0x45b4e6=_0x16cbdf;this[_0x45b4e6(0x211)](_0x196830);}},{'key':_0x16cbdf(0x201),'get':function _0x1f5231(){var _0x5dcfc0=_0x16cbdf,_0x163b9b=[];return this[_0x5dcfc0(0x1da)][_0x5dcfc0(0x26c)](function(_0x295a8f){var _0x53b05d=_0x5dcfc0;_0x163b9b[_0x53b05d(0x259)](_0x295a8f[_0x53b05d(0x1e2)]());}),_0x163b9b;}},{'key':_0x16cbdf(0x22c),'get':function _0x4fc542(){return this['_rectangle'];}},{'key':_0x16cbdf(0x245),'value':function _0x14cda6(_0x4b2e35,_0x132a29){var _0x5b202d=_0x16cbdf;_0x4b2e35[_0x5b202d(0x25e)]&&(this['positions']=_0x4b2e35[_0x5b202d(0x25e)]);}},{'key':_0x16cbdf(0x208),'value':function _0x692ab8(){var _0x4d2afb=_0x16cbdf;this[_0x4d2afb(0x26d)]=new mars3d__namespace[(_0x4d2afb(0x265))][(_0x4d2afb(0x207))]({'private':!![]});}},{'key':'_addedHook','value':function _0x57a16f(){var _0x3ba471=_0x16cbdf;this[_0x3ba471(0x24c)]['addLayer'](this[_0x3ba471(0x26d)]),this['options']['positions']&&(this[_0x3ba471(0x25e)]=this[_0x3ba471(0x215)][_0x3ba471(0x25e)]),this['options'][_0x3ba471(0x1df)]&&this['flyToByAnimationEnd']();}},{'key':_0x16cbdf(0x231),'value':function _0x10152c(){var _0x1159e9=_0x16cbdf;this['heatStyle'][_0x1159e9(0x233)]&&(mars3d__namespace[_0x1159e9(0x1e0)][_0x1159e9(0x1ff)](this[_0x1159e9(0x216)][_0x1159e9(0x233)]),delete this[_0x1159e9(0x216)]['container']),this[_0x1159e9(0x244)](),this[_0x1159e9(0x24c)]['removeLayer'](this['_layer']);}},{'key':_0x16cbdf(0x25d),'value':function _0x23ebd5(_0x30a122,_0x15bc1d){var _0xbd523d=_0x16cbdf;this[_0xbd523d(0x213)]=this['_positions']||[],this[_0xbd523d(0x213)][_0xbd523d(0x259)](_0x30a122),this[_0xbd523d(0x271)](_0x15bc1d);}},{'key':_0x16cbdf(0x211),'value':function _0x26ffe6(_0x5cccdd,_0x3baee2){var _0x259269=_0x16cbdf;this[_0x259269(0x213)]=_0x5cccdd,this['_updatePositionsHook'](_0x3baee2);}},{'key':_0x16cbdf(0x244),'value':function _0x419046(){var _0x550b46=_0x16cbdf;this[_0x550b46(0x22a)]&&(this[_0x550b46(0x26d)][_0x550b46(0x267)](this['_graphic'],!![]),delete this['_graphic']);}},{'key':'_updatePositionsHook','value':function _0xcf497f(_0x357e1e){var _0x3e93d5=_0x16cbdf;if(!this[_0x3e93d5(0x25c)]||!this['_map']||!this[_0x3e93d5(0x25e)]||this[_0x3e93d5(0x25e)][_0x3e93d5(0x1e9)]===0x0)return this;var _0x576687=this[_0x3e93d5(0x243)]();return this[_0x3e93d5(0x21d)]['arc']?this[_0x3e93d5(0x22a)]&&_0x357e1e?(this[_0x3e93d5(0x22a)][_0x3e93d5(0x203)][_0x3e93d5(0x25a)]=_0x576687,this[_0x3e93d5(0x22a)][_0x3e93d5(0x203)][_0x3e93d5(0x1fd)]=this[_0x3e93d5(0x214)]()):this[_0x3e93d5(0x219)](_0x576687):this[_0x3e93d5(0x22a)]&&_0x357e1e?this[_0x3e93d5(0x22a)][_0x3e93d5(0x203)]['image']=_0x576687:this[_0x3e93d5(0x1e6)](_0x576687),this;}},{'key':_0x16cbdf(0x1e6),'value':function _0x24f7d4(_0x359c00){var _0x2c0275=_0x16cbdf;this[_0x2c0275(0x244)](),this[_0x2c0275(0x22a)]=new mars3d__namespace[(_0x2c0275(0x23a))][(_0x2c0275(0x210))](_objectSpread2(_objectSpread2({},this[_0x2c0275(0x215)]),{},{'rectangle':this[_0x2c0275(0x260)],'appearance':new Cesium[(_0x2c0275(0x1fe))]({'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x359c00},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this['_layer'][_0x2c0275(0x23e)](this[_0x2c0275(0x22a)]);}},{'key':_0x16cbdf(0x219),'value':function _0xbfe7ef(_0x4f0609){var _0x1f10d7=_0x16cbdf,_0x52d40d;this[_0x1f10d7(0x244)]();var _0x573493=Cesium['RenderState']['fromCache']({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x1f10d7(0x252)][_0x1f10d7(0x218)],'frontOperation':{'fail':Cesium[_0x1f10d7(0x255)][_0x1f10d7(0x1dd)],'zFail':Cesium['StencilOperation'][_0x1f10d7(0x1dd)],'zPass':Cesium[_0x1f10d7(0x255)][_0x1f10d7(0x1fc)]},'backFunction':Cesium[_0x1f10d7(0x252)][_0x1f10d7(0x218)],'backOperation':{'fail':Cesium[_0x1f10d7(0x255)][_0x1f10d7(0x1dd)],'zFail':Cesium[_0x1f10d7(0x255)][_0x1f10d7(0x1dd)],'zPass':Cesium[_0x1f10d7(0x255)][_0x1f10d7(0x1fc)]},'reference':0x2,'mask':0x2},'blending':Cesium[_0x1f10d7(0x24a)][_0x1f10d7(0x22f)]}),_0x39ec09=Math[_0x1f10d7(0x232)]((_0x52d40d=this['style']['diffHeight'])!==null&&_0x52d40d!==void 0x0?_0x52d40d:this['_mBoundsMax']*0.02)+0.1;this[_0x1f10d7(0x21d)][_0x1f10d7(0x1ec)]&&delete this[_0x1f10d7(0x21d)][_0x1f10d7(0x1ec)];var _0x30752d=(this[_0x1f10d7(0x21d)][_0x1f10d7(0x1f8)],0x64),_0xb747d6=Math['max'](this['_rectangle']['height'],this[_0x1f10d7(0x260)][_0x1f10d7(0x1d6)]);this['style'][_0x1f10d7(0x1eb)]=_0xb747d6/=_0x30752d,this[_0x1f10d7(0x22a)]=new mars3d__namespace[(_0x1f10d7(0x23a))]['RectanglePrimitive'](_objectSpread2(_objectSpread2({},this['options']),{},{'rectangle':this[_0x1f10d7(0x260)],'appearance':new Cesium['EllipsoidSurfaceAppearance']({'aboveGround':!![],'renderState':_0x573493,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x4f0609,'repeat':new Cesium[(_0x1f10d7(0x268))](0x1,0x1),'color':new Cesium[(_0x1f10d7(0x200))](0x1,0x1,0x1,0.01),'bumpMap':this[_0x1f10d7(0x214)]()},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x1f10d7(0x261)[_0x1f10d7(0x26a)](_0x39ec09,';\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20+=vec4(disPos,0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20czm_modelViewProjectionRelativeToEye\x20*\x20p;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'),'flat':!![]})})),this[_0x1f10d7(0x26d)][_0x1f10d7(0x23e)](this[_0x1f10d7(0x22a)]);}},{'key':_0x16cbdf(0x262),'value':function _0x8ebeb9(_0x14702d){var _0x21e536=_0x16cbdf;return _0x14702d!==null&&_0x14702d!==void 0x0&&_0x14702d[_0x21e536(0x227)]&&this[_0x21e536(0x260)]?mars3d__namespace[_0x21e536(0x1f7)][_0x21e536(0x26b)](this[_0x21e536(0x260)]):this[_0x21e536(0x260)];}},{'key':_0x16cbdf(0x243),'value':function _0x3fe30d(){var _0x1fce34=_0x16cbdf,_0x2d4261=this,_0x358d51,_0x576f3e,_0x429d29,_0x1fa164,_0x68b77b=this[_0x1fce34(0x213)],_0x272b73=[],_0x1ca661,_0x56df44,_0x2dfcd3,_0x1d32f5;_0x68b77b[_0x1fce34(0x26c)](function(_0x2a1b4c){var _0x208b54=_0x1fce34,_0x53ff5b=mars3d__namespace['LngLatPoint'][_0x208b54(0x246)](_0x2a1b4c);if(!_0x53ff5b)return;_0x53ff5b[_0x208b54(0x23d)]=_0x2a1b4c[_0x208b54(0x23d)]||0x1,!_0x2d4261[_0x208b54(0x215)][_0x208b54(0x22c)]&&(_0x1ca661===undefined?(_0x1ca661=_0x53ff5b[_0x208b54(0x1f6)],_0x56df44=_0x53ff5b['lng'],_0x2dfcd3=_0x53ff5b['lat'],_0x1d32f5=_0x53ff5b[_0x208b54(0x234)]):(_0x1ca661=Math['min'](_0x1ca661,_0x53ff5b[_0x208b54(0x1f6)]),_0x56df44=Math[_0x208b54(0x24e)](_0x56df44,_0x53ff5b[_0x208b54(0x1f6)]),_0x2dfcd3=Math[_0x208b54(0x1d9)](_0x2dfcd3,_0x53ff5b[_0x208b54(0x234)]),_0x1d32f5=Math[_0x208b54(0x24e)](_0x1d32f5,_0x53ff5b[_0x208b54(0x234)]))),_0x272b73[_0x208b54(0x259)](_0x53ff5b);});var _0x591409=this[_0x1fce34(0x215)][_0x1fce34(0x22c)]||{'xmin':_0x1ca661,'xmax':_0x56df44,'ymin':_0x2dfcd3,'ymax':_0x1d32f5},_0x3a9b97=getMercatorBounds(_0x591409),_0x445af0=Math[_0x1fce34(0x1d5)](_0x3a9b97[_0x1fce34(0x206)]-_0x3a9b97['xmin']),_0x5e06c7=Math[_0x1fce34(0x1d5)](_0x3a9b97['ymax']-_0x3a9b97['ymin']),_0x464f88=Math[_0x1fce34(0x24e)](_0x445af0,_0x5e06c7),_0x2879be=Math[_0x1fce34(0x1d9)](_0x445af0,_0x5e06c7);this['_mBoundsMax']=_0x464f88;var _0xcb350f=0x1;if(_0x464f88>this['options'][_0x1fce34(0x270)])_0xcb350f=_0x464f88/this[_0x1fce34(0x215)][_0x1fce34(0x270)],_0x2879be/_0xcb350f<this['options']['minCanvasSize']&&(_0xcb350f=_0x2879be/this[_0x1fce34(0x215)][_0x1fce34(0x254)]);else _0x2879be<this[_0x1fce34(0x215)][_0x1fce34(0x254)]&&(_0xcb350f=_0x2879be/this[_0x1fce34(0x215)]['minCanvasSize'],_0x464f88/_0xcb350f>this['options'][_0x1fce34(0x270)]&&(_0xcb350f=_0x464f88/this['options'][_0x1fce34(0x270)]));var _0x2b0776=this[_0x1fce34(0x216)]['radius']*1.5,_0x13ec5f=_0x445af0/_0xcb350f+_0x2b0776*0x2,_0x25174d=_0x5e06c7/_0xcb350f+_0x2b0776*0x2,_0x4028f9=_0x2b0776*_0xcb350f;_0x3a9b97['xmin']-=_0x4028f9,_0x3a9b97[_0x1fce34(0x220)]-=_0x4028f9,_0x3a9b97[_0x1fce34(0x206)]+=_0x4028f9,_0x3a9b97[_0x1fce34(0x266)]+=_0x4028f9,this[_0x1fce34(0x26f)]=_0xcb350f,_0x591409=geLatLngBounds(_0x3a9b97),this[_0x1fce34(0x260)]=Cesium[_0x1fce34(0x225)][_0x1fce34(0x22d)](_0x591409[_0x1fce34(0x20e)],_0x591409[_0x1fce34(0x220)],_0x591409[_0x1fce34(0x206)],_0x591409[_0x1fce34(0x266)]);var _0xeb0abf=(_0x358d51=_0x272b73[0x0][_0x1fce34(0x23d)])!==null&&_0x358d51!==void 0x0?_0x358d51:0x1,_0x5041fe=(_0x576f3e=_0x272b73[0x0][_0x1fce34(0x23d)])!==null&&_0x576f3e!==void 0x0?_0x576f3e:0x0,_0x273b23=[];_0x272b73['forEach'](function(_0x2e1155){var _0x3a0079=_0x1fce34,_0x484374=mars3d__namespace[_0x3a0079(0x248)][_0x3a0079(0x25b)]([_0x2e1155[_0x3a0079(0x1f6)],_0x2e1155[_0x3a0079(0x234)]]),_0x425ea4=_0x2e1155[_0x3a0079(0x23d)]||0x1,_0x59e1c1=Math[_0x3a0079(0x228)]((_0x484374[0x0]-_0x3a9b97[_0x3a0079(0x20e)])/_0xcb350f),_0x59a5e1=Math[_0x3a0079(0x228)]((_0x3a9b97[_0x3a0079(0x266)]-_0x484374[0x1])/_0xcb350f);_0xeb0abf=Math[_0x3a0079(0x24e)](_0xeb0abf,_0x425ea4),_0x5041fe=Math[_0x3a0079(0x1d9)](_0x5041fe,_0x425ea4),_0x273b23['push']({'x':_0x59e1c1,'y':_0x59a5e1,'value':_0x425ea4});});var _0x3ca6b3={'min':(_0x429d29=this[_0x1fce34(0x215)][_0x1fce34(0x1d9)])!==null&&_0x429d29!==void 0x0?_0x429d29:_0x5041fe,'max':(_0x1fa164=this[_0x1fce34(0x215)][_0x1fce34(0x24e)])!==null&&_0x1fa164!==void 0x0?_0x1fa164:_0xeb0abf,'data':_0x273b23};this['_last_heatData']=_0x3ca6b3;(!this[_0x1fce34(0x1e7)]||_0x3a9b97[_0x1fce34(0x20e)]!==this[_0x1fce34(0x1e7)][_0x1fce34(0x20e)]||_0x3a9b97[_0x1fce34(0x220)]!==this[_0x1fce34(0x1e7)][_0x1fce34(0x220)]||_0x3a9b97[_0x1fce34(0x206)]!==this[_0x1fce34(0x1e7)]['xmax']||_0x3a9b97[_0x1fce34(0x266)]!==this['_last_mBounds'][_0x1fce34(0x266)])&&(this['_last_mBounds']=_0x3a9b97,!this[_0x1fce34(0x216)][_0x1fce34(0x233)]&&(this[_0x1fce34(0x216)]['container']=mars3d__namespace[_0x1fce34(0x1e0)][_0x1fce34(0x20f)](_0x1fce34(0x25f),_0x1fce34(0x23b),this['_map'][_0x1fce34(0x233)])),this[_0x1fce34(0x216)][_0x1fce34(0x233)]['style'][_0x1fce34(0x269)]='width:'[_0x1fce34(0x26a)](_0x13ec5f,_0x1fce34(0x230))[_0x1fce34(0x26a)](_0x25174d,_0x1fce34(0x1ef)),!this[_0x1fce34(0x26e)]?this['_heat']=h337__namespace[_0x1fce34(0x20f)](this[_0x1fce34(0x216)]):this[_0x1fce34(0x26e)][_0x1fce34(0x1db)](this['heatStyle']));this['_heat'][_0x1fce34(0x1f2)](_0x3ca6b3);var _0x3f144c=mars3d__namespace[_0x1fce34(0x1e0)][_0x1fce34(0x1ed)](this['_heat']['_renderer'][_0x1fce34(0x1f4)]);return _0x3f144c;}},{'key':_0x16cbdf(0x214),'value':function _0x48572a(){var _0x51df7e=_0x16cbdf;this['_heat'][_0x51df7e(0x1db)]({'radius':this[_0x51df7e(0x216)][_0x51df7e(0x273)]*this[_0x51df7e(0x21d)]['arcRadiusScale'],'blur':this[_0x51df7e(0x216)][_0x51df7e(0x240)]*this[_0x51df7e(0x21d)][_0x51df7e(0x20d)],'gradient':this[_0x51df7e(0x216)][_0x51df7e(0x1e3)]||{0.25:_0x51df7e(0x21c),0.55:_0x51df7e(0x1f9),0.85:_0x51df7e(0x1de),0x1:'rgb(255,255,255)'}});var _0x1c8966=mars3d__namespace[_0x51df7e(0x1e0)][_0x51df7e(0x1ed)](this[_0x51df7e(0x26e)][_0x51df7e(0x272)][_0x51df7e(0x1f4)]);return this[_0x51df7e(0x26e)]['configure'](this[_0x51df7e(0x215)][_0x51df7e(0x216)]),_0x1c8966;}},{'key':_0x16cbdf(0x1e1),'value':function _0x148799(_0x2139a9){var _0x5db4bc=_0x16cbdf,_0x458fd4=mars3d__namespace['LngLatPoint'][_0x5db4bc(0x246)](_0x2139a9);if(!_0x458fd4)return{};var _0x15cf7b=mars3d__namespace[_0x5db4bc(0x248)][_0x5db4bc(0x25b)]([_0x458fd4[_0x5db4bc(0x1f6)],_0x458fd4[_0x5db4bc(0x234)]]),_0x3d5860=this[_0x5db4bc(0x1e7)],_0x54087c=Math[_0x5db4bc(0x228)]((_0x15cf7b[0x0]-_0x3d5860[_0x5db4bc(0x20e)])/this[_0x5db4bc(0x26f)]),_0x1a48b2=Math['round']((_0x3d5860[_0x5db4bc(0x266)]-_0x15cf7b[0x1])/this[_0x5db4bc(0x26f)]),_0x2077b5=this['_heat']['getValueAt']({'x':_0x54087c,'y':_0x1a48b2}),_0x29c958=this[_0x5db4bc(0x26e)][_0x5db4bc(0x272)]['ctx'][_0x5db4bc(0x238)](_0x54087c-0x1,_0x1a48b2-0x1,0x1,0x1)['data'];return{'x':_0x54087c,'y':_0x1a48b2,'value':_0x2077b5,'color':_0x5db4bc(0x226)+_0x29c958[0x0]+','+_0x29c958[0x1]+','+_0x29c958[0x2]+','+_0x29c958[0x3]+')'};}}]),_0x2bf592;}(BaseLayer);mars3d__namespace[_0x6e3c81(0x265)][_0x6e3c81(0x1e4)]=HeatLayer,mars3d__namespace[_0x6e3c81(0x217)][_0x6e3c81(0x21e)](_0x6e3c81(0x224),HeatLayer);function getMercatorBounds(_0x146840){var _0x11ff53=_0x6e3c81,_0x2bf97d=mars3d__namespace['PointTrans'][_0x11ff53(0x25b)]([_0x146840[_0x11ff53(0x20e)],_0x146840[_0x11ff53(0x220)]]),_0x4fb975=mars3d__namespace['PointTrans']['lonlat2mercator']([_0x146840[_0x11ff53(0x206)],_0x146840['ymax']]);return{'xmin':_0x2bf97d[0x0],'ymin':_0x2bf97d[0x1],'xmax':_0x4fb975[0x0],'ymax':_0x4fb975[0x1]};}function geLatLngBounds(_0x17eafd){var _0x54e539=_0x6e3c81,_0xe66a8f=mars3d__namespace['PointTrans']['mercator2lonlat']([_0x17eafd[_0x54e539(0x20e)],_0x17eafd['ymin']]),_0x33520f=mars3d__namespace[_0x54e539(0x248)][_0x54e539(0x20b)]([_0x17eafd['xmax'],_0x17eafd[_0x54e539(0x266)]]);return{'xmin':_0xe66a8f[0x0],'ymin':_0xe66a8f[0x1],'xmax':_0x33520f[0x0],'ymax':_0x33520f[0x1]};}exports[_0x6e3c81(0x1e4)]=HeatLayer,Object[_0x6e3c81(0x264)](exports,_0x6e3c81(0x209),{'value':!![]});
}));
